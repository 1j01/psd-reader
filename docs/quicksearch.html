<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" psd-reader Classes PsdReader Classes Classes PsdReader × Search results Close Epistemex at GitHub "},"index.html":{"id":"index.html","title":"Index","body":" psd-reader Classes PsdReader psd-readerRead and display Adobe® Photoshop® PSD files directly in the web browser. Features Fast and lightweight Asynchronous and segment-based decoding (no UI-blocking) Reads all supported formats (Greyscale, Bitmap, Indexed, RGB, CMYK, DuoTone, TriTone, QuadTone, Multichannel and Lab) Reads all color depths (1/8/16/32 bits) Handles alpha channel as well as transparency for indexed mode De-matte (matte removal) processing of images with alpha-channel (eliminates &quot;halo&quot; problems) Supports RLE compressed and uncompressed image data By default, converts all formats to RGBA so it can be used directly with canvas Canvas helper method with optional scaling and high-quality down-sampling Optional gamma correction By default, auto-corrects display gamma for 32-bit color mode Access to the original channel bitmaps (decompressed if needed) Access to raw meta and header data Access to resource chunks (incl. ID locator method) Passive load mode allowing parsing to be invoked manually later Validates and performs error checks Works in all major browsers (Firefox, Chrome, IE/Edge, Opera, Safari). For client-side use An original parser implementation built from scratch. No dependencies DocumentationThe project is documented and is available as html in the docs folder Tutorials and general information is included in the HTML docs. UsageCreate a new instance, pass in an URL (or an array buffer), and a callback: var psd = new PsdReader({url: &quot;path/to/file.psd&quot;, onLoad: myCallback});In your callback you can access the RGBA data: function myCallback(e) { var bitmap = this.rgba; }To get a canvas version of the data: function myCallback(e) { var canvas = this.toCanvas(); ... }An already existing ArrayBuffer containing the raw PSD file can be used instead of an URL: var psd = new PsdReader({buffer: psdArrayBuffer, onLoad: myCallback});There is additional access to the original channel bitmap data in it's native format (8-bit, 16-bit etc.). The header information can be accessed through the info object: var width = psd.info.width; var height = psd.info.height; var depth = psd.info.depth; var layers = psd.info.chunks[3]; // the layers area var channel0 = psd.bitmaps[0]; // in native format (but uncompressed) ...Locate internal resources (low-level): var icc = psd.findResource(1039); // find resource with resource IDRequirementsA browser with support for HTML5 Canvas and typed arrays. There are no dependencies. See also canvas-to-tiff CompatibilityThese are generally non-problematic, but something to have in mind: Does not intend to parse individual layers PSD files must be saved in (the default) compatibility mode (see html docs for details) ICC profiles are not parsed/applied (see docs for details) LicenseAttribution-NonCommercial-ShareAlike 4.0 International Contact us if you need a commercial license. © 2015-2017 Epistemex × Search results Close Epistemex at GitHub "},"PsdReader.html":{"id":"PsdReader.html","title":"Class: PsdReader","body":" psd-reader Classes PsdReader Class: PsdReader PsdReader new PsdReader(options) Create a new instance of PSD (Photoshop graphic data file) providing either an URL to a PSD file, or an ArrayBuffer with the file loaded into it already. Provide onLoad and onError handlers to handle the asynchronous callbacks. Parameters: Name Type Description options object option object (required: url or buffer) Properties Name Type Argument Default Description url string &lt;optional&gt; URl to a PSD file (if not URL is provided, a buffer must be, but never both) buffer ArrayBuffer &lt;optional&gt; ArrayBuffer containing data for a PSD file (if not buffer is provided, an URL must be, but never both) onLoad function &lt;optional&gt; callback function when image has been loaded and parsed to RGBA. Optionally use onload onError function &lt;optional&gt; callback function to handle errors. Optionally use onerror gamma number &lt;optional&gt; 1 use this gamma for conversion. Note: give inverse value, ie. 1/2.2 etc. 1 = no processing gamma32 number &lt;optional&gt; use this gamma for 32-bits conversion. Defaults to guessed system value (1/1.8 for Mac, 1/2.2 for others) duotone Array &lt;optional&gt; [255,255,255] color to mix with duotone data, defaults to an array representing RGB for white [255, 255, 255]. passive boolean &lt;optional&gt; false load data but don't parse and decode. use parse() to invoke manually. ignoreAlpha boolean &lt;optional&gt; false ignore alpha channel if any. toRGBA boolean &lt;optional&gt; true convert to RGBA format. If you only want to deal with the raw data set this option to false. dematte boolean &lt;optional&gt; true de-matte images with alpha channels (indexed images are never processed) Members bitmaps :Array Array with bitmap data (always uncompressed) in original order. Type: Array buffer :ArrayBuffer|null Contains the original ArrayBuffer provided as option, or loaded through XHR. Type: ArrayBuffer | null config :object Expose public reference to config for prototyped methods. If you make changes, call toRGBA() to apply them. The url and buffer as well as passive and toRGBA (when toRGBA() is called the file will already be loaded) cannot be changed. These fields are stored in the config: {string} url - url to PSD file (if not buffer is provided) {ArrayBuffer} buffer - ArrayBuffer containing PSD file if not url is provided {function} onError - callback function for errors {function} onLoad - callback function when file is loaded and parsed {function} onReady - callback function when file is loaded and ready to be parsed {number} gamma - gamma setting, if 1 no processing is applied. Use inverse value (ie. 1/2.2 etc.) {number} gamma32 - gamma setting for 32-bit color mode images {Array} duotone - array with three entries for RGB values to mix with duotone images. Default is [255, 255, 255] {boolean} passive - use passive mode, load file but don't parse. {boolean} ignoreAlpha - ignore alpha channel and use original matte {boolean} toRGBA - automatically convert to rgba when file is loaded and parsed {boolean} dematte - dematte the image data if an alpha channel is present Type: object findResource :number Locate a resource in the resource chunk using the ID of it. If none is found, null is returned. The object returned otherwise contains a pos reference to position in buffer, length for length of resource data and a name if any. Type: number info :object Information object containing vital header information such as width, height, depth, byteWidth, channels, bitmaps array, pseudo chunks (buffer position and length), compression method and color mode. The following properties are public: {number} width - width of bitmap in pixels {number} height - height of bitmap in pixels {number} channels - number of channels (red is one channel, alpha another etc.) {number} depth - color depth (1/8/16/32 are valid values, indexed will have depth 8) {number} indexes - number of actual indexes used with indexed files {number} byteWidth - byte step to iterate a decompressed buffer {number} colorMode - color mode value [0,15] {string} colorDesc - textual description of color mode {number} compression - compression type used (0-3 are valid values, 2 and 3 (zip) not supported as there are no zip-compressed files produced) {string} compressionDesc - textual description of compression type {number} channelSize - number of bytes per channel {array} chunks - list of main &quot;chunks&quot;. Should total 5. Type: object isParsed :boolean Indicate if a file has been parsed. Useful with passive mode. Type: boolean onerror :function|null onerror handler points to a function that will be called if any errors occurs. If not specified the error will be thrown instead. Type: function | null onload :function|null onload handler points to a function that will be called once the file has been parsed. Type: function | null onready :function|null onready handler points to a function that will be called once the file has been loaded or given, but before parsed. Use this with passive mode when an file is loaded asynchronously. Type: function | null parseResources :function Parse the resource chunk and make the result available in the info.resources array. The parsed data is a list of all resources available in the file, with properties, id, name, size and byte position pos in the buffer for the beginning of the resource data. The data itself is not parsed. Use findResource(id) to look for a resource with id. Type: function resources :Array Array with resource chunk info objects (see findResource()). Type: Array rgba :Uint8Array|null Holds the converted PSD as a 8-bit RGBA bitmap compatible with canvas. The data can be set directly as a bitmap buffer for canvas: For example (ctx being the canvas 2D context): var idata = ctx.createImageData(w, h); // create ImageData buffer idata.data.set(psd.rgba); // set the bitmap as source ctx.putImageData(idata, x, y); // update canvas Type: Uint8Array | null Methods &lt;static&gt; guessGamma() Guess system display gamma. Gives only an approximation. Can be used if display gamma is unknown. Will return (inverse) 1/1.8 for Mac, 1/2.2 for all others. Returns: Type number floatToComp(channel, pos) Converts a 32-bit floating point value to integer. It reads the value from the given channel at position pos. The value from the channel is assumed to be [0.0, 1.0], the returned value is [0, 255] with rounding. Parameters: Name Type Description channel DataView channel to read from pos number position to read from Returns: converted integer value in the range [0, 255] Type number getGammaLUT(gamma) Create a gamma look-up table (LUT) based on the provided inverse gamma. Parameters: Name Type Description gamma number inverse gamma (ie. 1/2.2, 1/1.8 etc.) Returns: Type Uint8ClampedArray getIndexTable() Returns the indexed color table if present, or null. The number of entries is always 256. The indexed color values are not interleaved, but hold first the reds, greens then blue. To find number of actual used indexes, use findResource() with ID 1046 (if converted to RGBA the number of actual indexes can be found in psd.info.indexes). Returns: Type Uint8Array | null indexToInt(tbl, index [, alpha]) Convert a color index (when indexed mode) to little-endian unsigned 32-bit integer including full opaque for alpha channel. Can be set directly on an Uint32Array view for a canvas buffer. Parameters: Name Type Argument Default Description tbl Uint8Array the table holding the color indexes index number value from [0, 255]. alpha boolean &lt;optional&gt; false if true ANDs out the alpha. Returns: unsigned 32-bit integer in little-endian format (ABGR). Type number parse() Method to invoke parsing of the loaded file when created in passive mode (see options). If already parsed, or is loading, the method fails silently. Important to note is that the onready event can be used to know when data can be parsed. When data has been parsed, the onload event will be called as normal. Active mode: var psd = new PsdReader(url: &quot;...&quot;, onload: onload); function onload(e) { ...done... }Passive mode: var psd = new PsdReader(url: &quot;...&quot;, passive: true, onready: onready, onload: onload); function onready() { psd.parse(); // can be parsed here} function onload(e) { ...done... } toCanvas( [options]) Converts already loaded and parsed PSD file to canvas. A canvas element is returned with the bitmap at the original size, or null if no RGBA was being produced. Example usage: function callback() { var canvas = psd.toCanvas(); ... }If a canvas could not be created an error is thrown (memory, size etc.). If the instance wasn't able to decode the PSD file, a null is returned. Note: if the option noRGBA was used you need to convert to RGBA first using the (asynchronous) toRGBA() method. Parameters: Name Type Argument Description options object &lt;optional&gt; options Properties Name Type Argument Default Description scale number &lt;optional&gt; Scale factor for both x and y directions, 1 = 100%. If result of size is fraction, the size will be rounded to nearest integer number. hq boolean &lt;optional&gt; false High-quality down-sample. Use if you need large images scaled down to small sizes. Returns: Type HTMLCanvasElement | null toRGBA(callback) If option toRGBA is used but you want to convert the data to RGBA later, this method can be called. It can also be used to reconvert a bitmap with new config settings such as gamma, alpha, dematting etc. It's asynchronous and takes a callback argument. When the conversion has finished, the rgba property is set with the bitmap and the callback is given an object containing a reference to the bitmap (rgba) and a timeStamp. If the conversion was unsuccessful the rgba property will be null. Parameters: Name Type Description callback function required callback function × Search results Close Epistemex at GitHub "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
