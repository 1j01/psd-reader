<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>psd-reader Class: PsdReader</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.lumen.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">psd-reader</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="PsdReader.html">PsdReader</a></li>
				</ul>
			</li>
			
		</ul>
		<div class="col-sm-3 col-md-3">
            <form class="navbar-form" role="search">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                    <div class="input-group-btn">
                        <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
            </form>
        </div>
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	<h1 class="page-title">Class: PsdReader</h1>
<section>

<header>
    
        <h2>
        PsdReader
        </h2>
        
    
</header>


<article>
    <div class="container-overview">
    
        
<hr>
<dt>
    <h4 class="name" id="PsdReader"><span class="type-signature"></span>new PsdReader(options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Create a new instance of PSD (Photoshop graphic data file) providing
either an URL to a PSD file, or an ArrayBuffer with the file loaded
into it already. Provide onLoad and onError handlers to handle the
asynchronous callbacks.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p>option object (required: url or buffer)</p>
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>URl to a PSD file (if not URL is provided, a buffer must be, but never both)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>buffer</code></td>
            

            <td class="type">
            
                
<span class="param-type">ArrayBuffer</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>ArrayBuffer containing data for a PSD file (if not buffer is provided, an URL must be, but never both)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onLoad</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>callback function when image has been loaded and parsed to RGBA. Optionally use <code>onload</code></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onError</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>callback function to handle errors. Optionally use <code>onerror</code></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>gamma</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    1
                
                </td>
            

            <td class="description last"><p>use this gamma for conversion. Note: give inverse value, ie. 1/2.2 etc. 1 = no processing</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>gamma32</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>use this gamma for 32-bits conversion. Defaults to guessed system value (1/1.8 for Mac, 1/2.2 for others)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>duotone</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    [255,255,255]
                
                </td>
            

            <td class="description last"><p>color to mix with duotone data, defaults to an array representing RGB for white [255, 255, 255].</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>passive</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>load data but don't parse and decode. use parse() to invoke manually.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ignoreAlpha</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>ignore alpha channel if any.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>toRGBA</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>convert to RGBA format. If you only want to deal with the raw data set this option to false.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dematte</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>de-matte images with alpha channels (indexed images are never processed)</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

    
    </div>

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            
<hr>
<dt class="name" id="bitmaps">
    <h4><span class="type-signature"></span>bitmaps<span class="type-signature"> :Array</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Array with bitmap data (always uncompressed) in original order.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Array</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    
</dd>

        
            
<hr>
<dt class="name" id="buffer">
    <h4><span class="type-signature"></span>buffer<span class="type-signature"> :ArrayBuffer|null</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Contains the original ArrayBuffer provided as option, or loaded
through XHR.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">ArrayBuffer</span>
|

<span class="param-type">null</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    
</dd>

        
            
<hr>
<dt class="name" id="config">
    <h4><span class="type-signature"></span>config<span class="type-signature"> :object</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Expose public reference to config for prototyped methods. If
you make changes, call toRGBA() to apply them. The <code>url</code> and <code>buffer</code>
as well as <code>passive</code> and <code>toRGBA</code> (when <code>toRGBA()</code> is called the file will
already be loaded) cannot be changed.</p>
<p>These fields are stored in the config:</p>
<pre class="prettyprint source"><code>{string}      url - url to PSD file (if not buffer is provided)
{ArrayBuffer} buffer - ArrayBuffer containing PSD file if not url is provided
{function}    onError - callback function for errors
{function}    onLoad - callback function when file is loaded and parsed
{function}    onReady - callback function when file is loaded and ready to be parsed
{number}      gamma - gamma setting, if 1 no processing is applied. Use inverse value (ie. 1/2.2 etc.)
{number}      gamma32 - gamma setting for 32-bit color mode images
{Array}       duotone - array with three entries for RGB values to mix with duotone images. Default is [255, 255, 255]
{boolean}     passive - use passive mode, load file but don't parse.
{boolean}     ignoreAlpha - ignore alpha channel and use original matte
{boolean}     toRGBA - automatically convert to rgba when file is loaded and parsed
{boolean}     dematte - dematte the image data if an alpha channel is present</code></pre>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">object</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    
</dd>

        
            
<hr>
<dt class="name" id="findResource">
    <h4><span class="type-signature"></span>findResource<span class="type-signature"> :number</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Locate a resource in the resource chunk using the ID of it.
If none is found, null is returned. The object returned otherwise
contains a <code>pos</code> reference to position in buffer, <code>length</code> for length
of resource data and a <code>name</code> if any.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">number</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    
</dd>

        
            
<hr>
<dt class="name" id="info">
    <h4><span class="type-signature"></span>info<span class="type-signature"> :object</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Information object containing vital header information such
as width, height, depth, byteWidth, channels, bitmaps array,
pseudo chunks (buffer position and length), compression method
and color mode.</p>
<p>The following properties are public:</p>
<pre class="prettyprint source"><code>{number} width - width of bitmap in pixels
{number} height - height of bitmap in pixels
{number} channels - number of channels (red is one channel, alpha another etc.)
{number} depth - color depth (1/8/16/32 are valid values, indexed will have depth 8)
{number} indexes - number of actual indexes used with indexed files
{number} byteWidth - byte step to iterate a decompressed buffer
{number} colorMode - color mode value [0,15]
{string} colorDesc - textual description of color mode
{number} compression - compression type used (0-3 are valid values, 2 and 3 (zip) not supported as there are no zip-compressed files produced)
{string} compressionDesc - textual description of compression type
{number} channelSize - number of bytes per channel
{array}  chunks - list of main &quot;chunks&quot;. Should total 5.</code></pre>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">object</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    
</dd>

        
            
<hr>
<dt class="name" id="isParsed">
    <h4><span class="type-signature"></span>isParsed<span class="type-signature"> :boolean</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Indicate if a file has been parsed. Useful with passive mode.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">boolean</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    
</dd>

        
            
<hr>
<dt class="name" id="onerror">
    <h4><span class="type-signature"></span>onerror<span class="type-signature"> :function|null</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>onerror handler points to a function that will be called if any
errors occurs. If not specified the error will be thrown instead.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">function</span>
|

<span class="param-type">null</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    
</dd>

        
            
<hr>
<dt class="name" id="onload">
    <h4><span class="type-signature"></span>onload<span class="type-signature"> :function|null</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>onload handler points to a function that will be called once
the file has been parsed.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">function</span>
|

<span class="param-type">null</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    
</dd>

        
            
<hr>
<dt class="name" id="onready">
    <h4><span class="type-signature"></span>onready<span class="type-signature"> :function|null</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>onready handler points to a function that will be called once
the file has been loaded or given, but before parsed. Use this
with passive mode when an file is loaded asynchronously.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">function</span>
|

<span class="param-type">null</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    
</dd>

        
            
<hr>
<dt class="name" id="parseResources">
    <h4><span class="type-signature"></span>parseResources<span class="type-signature"> :function</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Parse the resource chunk and make the result available in the
info.resources array. The parsed data is a list of all resources
available in the file, with properties, <code>id</code>, <code>name</code>, <code>size</code> and byte
position <code>pos</code> in the buffer for the beginning of the resource data.
The data itself is not parsed.</p>
<p>Use <code>findResource(id)</code> to look for a resource with id.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">function</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    
</dd>

        
            
<hr>
<dt class="name" id="resources">
    <h4><span class="type-signature"></span>resources<span class="type-signature"> :Array</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Array with resource chunk info objects (see findResource()).</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Array</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    
</dd>

        
            
<hr>
<dt class="name" id="rgba">
    <h4><span class="type-signature"></span>rgba<span class="type-signature"> :Uint8Array|null</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Holds the converted PSD as a 8-bit RGBA bitmap compatible with
canvas. The data can be set directly as a bitmap buffer for canvas:</p>
<p>For example (ctx being the canvas 2D context):</p>
<pre class="prettyprint source"><code>var idata = ctx.createImageData(w, h);  // create ImageData buffer
idata.data.set(psd.rgba);               // set the bitmap as source
ctx.putImageData(idata, x, y);          // update canvas</code></pre>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Uint8Array</span>
|

<span class="param-type">null</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<hr>
<dt>
    <h4 class="name" id=".guessGamma"><span class="type-signature">&lt;static> </span>guessGamma()</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Guess system display gamma. Gives only an approximation. Can be used
if display gamma is unknown. Will return (inverse) 1/1.8 for Mac,
1/2.2 for all others.</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="floatToComp"><span class="type-signature"></span>floatToComp(channel, pos)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Converts a 32-bit floating point value to integer. It reads the value
from the given channel at position pos.
The value from the channel is assumed to be [0.0, 1.0], the returned
value is [0, 255] with rounding.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type">DataView</span>



            
            </td>

            

            

            <td class="description last"><p>channel to read from</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>pos</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>position to read from</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>converted integer value in the range [0, 255]</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getGammaLUT"><span class="type-signature"></span>getGammaLUT(gamma)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Create a gamma look-up table (LUT) based on the provided inverse gamma.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>gamma</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>inverse gamma (ie. 1/2.2, 1/1.8 etc.)</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Uint8ClampedArray</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getIndexTable"><span class="type-signature"></span>getIndexTable()</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Returns the indexed color table if present, or null. The number of
entries is always 256. The indexed color values are not interleaved,
but hold first the reds, greens then blue. To find number of actual
used indexes, use findResource() with ID 1046 (if converted to RGBA
the number of actual indexes can be found in psd.info.indexes).</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Uint8Array</span>
|

<span class="param-type">null</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="indexToInt"><span class="type-signature"></span>indexToInt(tbl, index [, alpha])</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Convert a color index (when indexed mode) to little-endian unsigned
32-bit integer including full opaque for alpha channel. Can be set
directly on an Uint32Array view for a canvas buffer.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tbl</code></td>
            

            <td class="type">
            
                
<span class="param-type">Uint8Array</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>the table holding the color indexes</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>index</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>value from [0, 255].</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>alpha</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>if true ANDs out the alpha.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>unsigned 32-bit integer in little-endian format (ABGR).</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="parse"><span class="type-signature"></span>parse()</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Method to invoke parsing of the loaded file when created in
passive mode (see options). If already parsed, or is loading,
the method fails silently.</p>
<p>Important to note is that the onready event can be used to know
when data can be parsed. When data has been parsed, the onload
event will be called as normal.</p>
<p>Active mode:</p>
<pre class="prettyprint source"><code>var psd = new PsdReader(url: &quot;...&quot;, onload: onload);
function onload(e) { ...done... }</code></pre><p>Passive mode:</p>
<pre class="prettyprint source"><code>var psd = new PsdReader(url: &quot;...&quot;, passive: true, onready: onready, onload: onload);
function onready() { psd.parse();   // can be parsed here}
function onload(e) { ...done... }</code></pre>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="toCanvas"><span class="type-signature"></span>toCanvas( [options])</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Converts already loaded and parsed PSD file to canvas. A canvas element
is returned with the bitmap at the original size, or null if no RGBA
was being produced.</p>
<p>Example usage:</p>
<pre class="prettyprint source"><code>function callback() {
    var canvas = psd.toCanvas();
    ...
}</code></pre><p>If a canvas could not be created an error is thrown (memory, size etc.).
If the instance wasn't able to decode the PSD file, a null is returned.</p>
<p>Note: if the option <code>noRGBA</code> was used you need to convert to RGBA first
using the (asynchronous) <code>toRGBA()</code> method.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>options</p>
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>scale</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Scale factor for both x and y directions, 1 = 100%. If result of size is fraction, the size will be rounded to nearest integer number.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>hq</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>High-quality down-sample. Use if you need large images scaled down to small sizes.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">HTMLCanvasElement</span>
|

<span class="param-type">null</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="toRGBA"><span class="type-signature"></span>toRGBA(callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>If option toRGBA is used but you want to convert the data to RGBA
later, this method can be called. It can also be used to reconvert
a bitmap with new config settings such as gamma, alpha, dematting etc.</p>
<p>It's <strong>asynchronous</strong> and takes a callback argument. When the conversion
has finished, the <code>rgba</code> property is set with the bitmap and
the callback is given an object containing a reference to the bitmap
(rgba) and a timeStamp.</p>
<p>If the conversion was unsuccessful the <code>rgba</code> property will be null.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>required callback function</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>

<div class="modal fade" id="searchResults">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Search results</h4>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>

<footer>

	<p><b><a href='https://gitlab.com/epistemex/'>Epistemex at GitHub</a></b></p>


	<span class="copyright">
	Copyright &copy; 2015-2017 Epistemex
	</span>

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a>
	
		on Thu Aug 24th 2017
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>
<script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>

<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : false,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			var id = $( heading ).attr( "id" );
			return id && id.replace(/\~/g, '-inner-').replace(/\./g, '-static-') || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->


<script type="text/javascript">
	$(document).ready(function() {
		SearcherDisplay.init();
	});
</script>

</body>
</html>